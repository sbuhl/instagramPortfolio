"function"!=typeof Object.create&&(Object.create=function(t){function e(){}return e.prototype=t,new e}),function($,t,e,a){var s={API_URL:"https://api.instagram.com/v1",initialize:function(t,e){this.elem=e,this.$elem=$(e),this.accessData=$.fn.spectragram.accessData,this.accessToken=this.accessData.accessToken,this.clientID=this.accessData.clientID,this.userCredentials=this.clientID+"&access_token="+this.accessToken,this.options=$.extend({},$.fn.spectragram.options,t),this.messages={defaultImageAltText:"Instagram Photo related with "+this.options.query,notFound:"This user account is private or doesn't have any photos."}},getRecentMedia:function(t){var e=this,a="/users/"+t+"/media/recent/?"+e.userCredentials;e.fetch(a).done(function(t){e.display(t)})},getUserFeed:function(){var t=this,e="/users/search?q="+t.options.query+"&count="+t.options.max+"&access_token="+t.accessToken,a=!1;t.fetch(e).done(function(e){if(e.data.length)for(var s=e.data.length,i=0;i<s;i++)e.data[i].username===t.options.query&&(t.getRecentMedia(e.data[i].id),a=!0);!1===a&&$.error("Spectragram.js - Error: the username "+t.options.query+" does not exist.")})},getPopular:function(){var t=this,e="/media/popular?client_id="+t.userCredentials;t.fetch(e).done(function(e){t.display(e)})},getRecentTagged:function(){var t=this,e="/tags/"+t.options.query+"/media/recent?client_id="+t.userCredentials;t.fetch(e).done(function(e){e.data.length?t.display(e):$.error("Spectragram.js - Error: the tag "+t.options.query+" does not have results.")})},fetch:function(t){var e=this.API_URL+t;return $.ajax({type:"GET",dataType:"jsonp",cache:!1,url:e})},display:function(t){var e,a,s,i=[],n,o,r,c,h,d;if(s=0===$(this.options.wrapEachWith).length,void 0===t.data||200!==t.meta.code||0===t.data.length)s?this.$elem.append(this.messages.notFound):this.$elem.append($(this.options.wrapEachWith).append(this.messages.notFound));else{c=this.options.max>=t.data.length?t.data.length:this.options.max,h=this.options.size;for(var u=0;u<c;u++)"small"===h?(d=t.data[u].images.thumbnail.url,o=t.data[u].images.thumbnail.height,r=t.data[u].images.thumbnail.width):"medium"===h?(d=t.data[u].images.low_resolution.url,o=t.data[u].images.low_resolution.height,r=t.data[u].images.low_resolution.width):(d=t.data[u].images.standard_resolution.url,o=t.data[u].images.standard_resolution.height,r=t.data[u].images.standard_resolution.width),n=null!==t.data[u].caption?$("<span>").text(t.data[u].caption.text).html():this.messages.defaultImageAltText,a=$("<img>",{alt:n,attr:{height:o,width:r},src:d}),e=$("<a>",{href:t.data[u].link,target:"_blank",title:n}).append(a),s?i.push(e):i.push($(this.options.wrapEachWith).append(e));this.$elem.append(i)}"function"==typeof this.options.complete&&this.options.complete.call(this)}};jQuery.fn.spectragram=function(t,e){jQuery.fn.spectragram.accessData.clientID?this.each(function(){var a=Object.create(s);if(a.initialize(e,this),a[t])return a[t](this);$.error("Method "+t+" does not exist on jQuery.spectragram")}):$.error("You must define an accessToken and a clientID on jQuery.spectragram")},jQuery.fn.spectragram.options={complete:null,max:10,query:"instagram",size:"medium",wrapEachWith:"<li></li>"},jQuery.fn.spectragram.accessData={accessToken:null,clientID:null}}(jQuery,window,document);